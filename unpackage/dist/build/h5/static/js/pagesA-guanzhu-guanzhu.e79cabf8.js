(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pagesA-guanzhu-guanzhu"],{"0167":function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.shudan[data-v-f5027aa6]{margin-bottom:%?38?%}.shudan_list[data-v-f5027aa6]{margin-left:%?25?%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;margin-bottom:%?20?%}.shudan_list .shudan_list_title[data-v-f5027aa6]{margin-left:%?37?%;display:block;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;width:%?390?%}.shudan_list .shudan_list_title .pd[data-v-f5027aa6]{font-size:%?32?%;font-family:PingFang SC;font-weight:400;color:#333}.shudan_list .shudan_list_title .count[data-v-f5027aa6]{font-size:%?21?%;font-family:PingFang SC;font-weight:400;color:#999;margin-top:%?17?%}',""]),t.exports=e},"0c56":function(t,e,n){"use strict";var r=n("4ea4");n("99af"),n("c740"),n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=r(n("5530"));n("96cf");var i=r(n("1da1")),u=n("2f62"),s=r(n("f53e")),o=r(n("6722")),c=r(n("b568")),l={mixins:[s.default],components:{guanzhu:c.default,MescrollUni:o.default},data:function(){return{downOption:{},upOption:{},dataList:[]}},props:{type:{type:String,default:"fensi"},list:{type:Array,default:function(){return[]}},rindex:{type:Number}},mounted:function(){return(0,i.default)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()},methods:(0,a.default)((0,a.default)({},(0,u.mapActions)(["get_user_fans","get_user_focus","insert_focus","delete_focus"])),{},{getFensiList:function(t){var e=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(0!=e.rindex){n.next=7;break}return r={pageNum:t.num,pageSize:t.size,userId:1},n.next=4,e.get_user_fans(r);case 4:return n.abrupt("return",n.sent);case 7:return a={pageNum:t.num,pageSize:t.size,userId:1},n.next=10,e.get_user_focus(a);case 10:return n.abrupt("return",n.sent);case 11:case"end":return n.stop()}}),n)})))()},handleAvatar:function(t){uni.navigateTo({url:"/pagesA/myindex/myindex?priv="+t.userRole+"&userId="+t.userId})},handleGuanzhu:function(t){var e=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var r,a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log(t,"关注的当前项"),1!=t.flag){n.next=8;break}return n.next=4,e.insert_focus(t.userId);case 4:r=n.sent,r.success&&(e.downCallback(),uni.showToast({title:"关注成功",icon:"none"})),n.next=13;break;case 8:return a=e.getCurrectIndex(e.dataList,t.fansId),n.next=11,e.delete_focus(t.fansId);case 11:i=n.sent,i.success&&(e.dataList[a].flag=1,uni.showToast({title:"取消成功",icon:"none"}));case 13:case"end":return n.stop()}}),n)})))()},getCurrectIndex:function(t,e){return t.findIndex((function(t,n){return t.fansId==e}))},downCallback:function(){var t=this;return(0,i.default)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.mescroll.resetUpScroll();case 1:case"end":return e.stop()}}),e)})))()},upCallback:function(t){var e=this;return(0,i.default)(regeneratorRuntime.mark((function n(){var r,a,i,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,e.getFensiList(t);case 2:r=n.sent,a=r.list,i=r.list.length,u=r.pages,r.total,1==t.num&&(e.dataList=[]),e.dataList=e.dataList.concat(a),e.mescroll.endByPage(i,u);case 10:case"end":return n.stop()}}),n)})))()}})};e.default=l},1696:function(t,e,n){"use strict";n.r(e);var r=n("e091"),a=n("99e1");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("d162");var u,s=n("f0c5"),o=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,"3cc151be",null,!1,r["a"],u);e["default"]=o.exports},1822:function(t,e,n){var r=n("be1b");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=n("4f06").default;a("cb1b7c2e",r,!0,{sourceMap:!1,shadowMode:!1})},"25a3":function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var r={uImage:n("8388").default,uButton:n("68ed").default,uLine:n("5502").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"shudan"},[n("v-uni-view",{staticClass:"shudan_list"},[n("v-uni-view",{staticStyle:{width:"120rpx",height:"120rpx"}},[n("u-image",{attrs:{width:"120rpx",height:"120rpx",src:t.item.avatar,shape:"circle"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleAvatar(t.item)}}})],1),n("v-uni-view",{staticClass:"shudan_list_title"},[n("v-uni-view",{staticStyle:{display:"flex"}},[(t.type,n("v-uni-view",{staticClass:"pd",style:{width:t.titleWidth,fontSize:t.size,color:t.color}},[t._v(t._s(t._f("titleFilter")(t.item.nickName,10)))]))],1),n("v-uni-view",{staticClass:"count",style:{desccolor:t.desccolor}},[t._v(t._s(t._f("titleFilter")(t.item.userSignature,12)))])],1),1==t.item.flag||0==t.item.isFocus?n("u-button",{staticStyle:{"margin-left":"10rpx"},attrs:{type:"error",size:"mini","custom-style":t.customStyle},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleGuanzhu(t.item)}}},[t._v("+关注")]):n("u-button",{staticStyle:{"margin-left":"10rpx"},attrs:{type:"error",size:"mini","custom-style":t.customStyle},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleGuanzhu(t.item)}}},[t._v("已关注")])],1),t.noline?n("u-line",{staticStyle:{"margin-left":"178rpx"},attrs:{color:"#E6E6E6"}}):t._e()],1)},i=[]},"3e6a":function(t,e,n){var r=n("6631");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=n("4f06").default;a("5fcfb37c",r,!0,{sourceMap:!1,shadowMode:!1})},"53b0":function(t,e,n){"use strict";var r=n("ff8a"),a=n.n(r);a.a},6631:function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.guanzhu[data-v-9212b6c6]{position:absolute;left:0;bottom:0;right:0;top:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}',""]),t.exports=e},"6d89":function(t,e,n){"use strict";var r=n("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,n("96cf");var a=r(n("1da1")),i=r(n("5530")),u=n("2f62"),s=r(n("1696")),o={components:{guanzhulist:s.default},data:function(){return{list:[{name:"粉丝"},{name:"关注"}],current:0,swiperCurrent:0,userInfo:{},pageNum:1,pageSize:10,fensiList:[]}},onLoad:function(t){this.current=t.index,this.swiperCurrent=t.index;var e=this;uni.getStorage({key:"user",success:function(t){var n=JSON.parse(t.data);e.userInfo=n}})},methods:(0,i.default)((0,i.default)({},(0,u.mapActions)(["get_user_fans","get_user_focus","insert_focus","delete_focus"])),{},{tabsChange:function(t){var e=this;return(0,a.default)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.swiperCurrent=t,e.current=t;case 2:case"end":return n.stop()}}),n)})))()},transition:function(t){var e=t.detail.dx;this.$refs.uTabs.setDx(e)},animationfinish:function(t){var e=this;return(0,a.default)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=t.detail.current,e.$refs.uTabs.setFinishCurrent(r),e.swiperCurrent=r,e.current=r;case 4:case"end":return n.stop()}}),n)})))()}})};e.default=o},7896:function(t,e,n){"use strict";n.r(e);var r=n("af19"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},"951f1":function(t,e,n){"use strict";var r=n("3e6a"),a=n.n(r);a.a},"99e1":function(t,e,n){"use strict";n.r(e);var r=n("0c56"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},ad40:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var r={uNavbar:n("98d7").default,uTabsSwiper:n("892d").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"guanzhu"},[n("u-navbar",{attrs:{title:t.userInfo.nickName,background:"","title-color":"#333333","back-icon-color":"#333333"}}),n("v-uni-view",[n("u-tabs-swiper",{ref:"uTabs",attrs:{list:t.list,current:t.current,"is-scroll":!1,swiperWidth:"750"},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.tabsChange.apply(void 0,arguments)}}})],1),n("v-uni-swiper",{staticStyle:{flex:"1"},attrs:{current:t.swiperCurrent},on:{transition:function(e){arguments[0]=e=t.$handleEvent(e),t.transition.apply(void 0,arguments)},animationfinish:function(e){arguments[0]=e=t.$handleEvent(e),t.animationfinish.apply(void 0,arguments)}}},t._l(t.list,(function(e,r){return n("v-uni-swiper-item",{key:r,staticClass:"swiper-item"},["粉丝"==e.name&&r==t.current?n("guanzhulist",{attrs:{rindex:r,type:"fensi",list:t.fensiList},on:{handleGuanzhu:function(e){arguments[0]=e=t.$handleEvent(e),t.handleGuanzhu.apply(void 0,arguments)}}}):t._e(),"关注"==e.name&&r==t.current?n("guanzhulist",{attrs:{rindex:r,type:"guanzhu",list:t.fensiList},on:{handleGuanzhu:function(e){arguments[0]=e=t.$handleEvent(e),t.handleGuanzhu.apply(void 0,arguments)}}}):t._e()],1)})),1)],1)},i=[]},af19:function(t,e,n){"use strict";n("a9e3"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r={props:{width:{type:String,default:"120rpx"},height:{type:String,default:"120rpx"},titleWidth:{type:String,default:"100%"},size:{type:String,default:"32rpx"},noline:{type:Boolean,default:!0},color:{type:String,default:"rgba(51, 51, 51, 1)"},desccolor:{type:String,default:"rgba(153, 153, 153, 1)"},type:{type:String,default:"zhubo"},item:{type:Object},rindex:{type:Number}},data:function(){return{customStyle:{width:"113rpx",height:"48rpx",borderRadius:"40rpx"},show:!0}},methods:{handleGuanzhu:function(t){this.$emit("handleGuanzhu",t)},handleAvatar:function(t){this.$emit("handleAvatar",t)}}};e.default=r},b515:function(t,e,n){"use strict";n.r(e);var r=n("6d89"),a=n.n(r);for(var i in r)"default"!==i&&function(t){n.d(e,t,(function(){return r[t]}))}(i);e["default"]=a.a},b568:function(t,e,n){"use strict";n.r(e);var r=n("25a3"),a=n("7896");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("53b0");var u,s=n("f0c5"),o=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,"f5027aa6",null,!1,r["a"],u);e["default"]=o.exports},be1b:function(t,e,n){var r=n("24fb");e=r(!1),e.push([t.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.guanzhu[data-v-3cc151be]{position:absolute;left:0;bottom:0;right:0;top:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column}',""]),t.exports=e},d162:function(t,e,n){"use strict";var r=n("1822"),a=n.n(r);a.a},dd89:function(t,e,n){"use strict";n.r(e);var r=n("ad40"),a=n("b515");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("951f1");var u,s=n("f0c5"),o=Object(s["a"])(a["default"],r["b"],r["c"],!1,null,"9212b6c6",null,!1,r["a"],u);e["default"]=o.exports},e091:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r}));var r={mescrollUni:n("6722").default},a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",{staticClass:"guanzhu",staticStyle:{overflow:"hidden",flex:"1"}},[n("mescroll-uni",{ref:"mescrollRef",staticStyle:{height:"100%"},attrs:{fixed:!1,down:t.downOption,up:t.upOption},on:{init:function(e){arguments[0]=e=t.$handleEvent(e),t.mescrollInit.apply(void 0,arguments)},down:function(e){arguments[0]=e=t.$handleEvent(e),t.downCallback.apply(void 0,arguments)},up:function(e){arguments[0]=e=t.$handleEvent(e),t.upCallback.apply(void 0,arguments)}}},[t._l(t.dataList,(function(e,r){return[[n("guanzhu",{key:r+"_0",attrs:{item:e,rindex:r},on:{handleAvatar:function(e){arguments[0]=e=t.$handleEvent(e),t.handleAvatar.apply(void 0,arguments)},handleGuanzhu:function(e){arguments[0]=e=t.$handleEvent(e),t.handleGuanzhu.apply(void 0,arguments)}}})]]}))],2)],1)},i=[]},ff8a:function(t,e,n){var r=n("0167");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=n("4f06").default;a("29b78de4",r,!0,{sourceMap:!1,shadowMode:!1})}}]);